<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>V2: C++ OOP PYQ Viewer (AKU/BEU)</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Heroicons CDN (Optional, for icons) -->
    <script type="module" src="https://cdn.jsdelivr.net/npm/heroicons@2.1.1/24/outline/index.js"></script>
    <style>
        /* Custom scrollbar - Enhanced */
        ::-webkit-scrollbar {
            width: 10px;
            height: 10px;
        }

        ::-webkit-scrollbar-track {
            background: #e2e8f0;
            /* slate-200 */
            border-radius: 10px;
        }

        ::-webkit-scrollbar-thumb {
            background: #94a3b8;
            /* slate-400 */
            border-radius: 10px;
            border: 2px solid #e2e8f0;
            /* slate-200 - gives padding */
        }

        ::-webkit-scrollbar-thumb:hover {
            background: #64748b;
            /* slate-500 */
        }

        /* Active chapter style - More prominent */
        .active-chapter {
            background-color: #e0e7ff;
            /* indigo-100 */
            color: #4338ca;
            /* indigo-700 */
            font-weight: 600;
            /* Semibold */
            border-left: 4px solid #4f46e5;
            /* indigo-600 */
            padding-left: calc(1rem - 4px);
            /* Adjust padding to account for border */
        }

        .active-chapter:hover {
            background-color: #c7d2fe;
            /* indigo-200 */
        }

        /* Smooth transitions for sidebar */
        #sidebar {
            transition: transform 0.3s ease-in-out;
        }

        /* Ensure layout fills height */
        html,
        body {
            height: 100%;
            scroll-behavior: smooth;
            /* Optional: Smooth scroll for jumps */
        }

        body {
            display: flex;
            flex-direction: column;
            background-color: #f8fafc;
            /* slate-50 */
        }

        /* Main container structure */
        .main-app-container {
            flex: 1;
            display: flex;
            overflow: hidden;
            /* Important for nested scrolling */
        }

        aside {
            scrollbar-gutter: stable;
        }

        main {
            scrollbar-gutter: stable;
        }

        /* Code block styling enhancements */
        pre[class*="language-"] {
            position: relative;
            /* Add more specific code styling here if needed */
        }

        /* Simple Q number styling */
        .q-number {
            font-weight: 600;
            color: #1e293b;
            /* slate-800 */
            margin-right: 0.4em;
        }
    </style>
</head>

<body class="font-sans text-slate-800">

    <!-- Header -->
    <header class="bg-white shadow-sm sticky top-0 z-20">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <h1 class="text-xl font-semibold text-indigo-600">C++ OOP PYQs</h1>
                    <span class="ml-3 text-sm text-slate-500 hidden md:inline">AKU / BEU</span>
                </div>
                <!-- Mobile Menu Button -->
                <div class="md:hidden">
                    <button id="mobile-menu-button" type="button"
                        class="inline-flex items-center justify-center p-2 rounded-md text-slate-500 hover:text-slate-700 hover:bg-slate-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500"
                        aria-controls="sidebar" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <!-- Heroicon name: outline/bars-3 -->
                        <svg class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24"
                            stroke-width="1.5" stroke="currentColor" aria-hidden="true">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25h16.5" />
                        </svg>
                    </button>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Application Container -->
    <div class="main-app-container">

        <!-- Sidebar -->
        <aside id="sidebar"
            class="fixed inset-y-0 left-0 z-30 w-72 bg-white shadow-lg md:shadow-none md:border-r md:border-slate-200 p-6 transform -translate-x-full md:relative md:translate-x-0 md:h-auto overflow-y-auto flex-shrink-0 flex flex-col">
            <!-- Sticky Header inside sidebar -->
            <div class="sticky top-0 -mt-6 pt-6 -mx-6 px-6 bg-white z-10">
                <div class="mb-6 pb-4 border-b border-slate-200">
                    <h2 class="text-lg font-semibold text-slate-800">Modules</h2>
                    <p class="text-xs text-slate-500 mt-1">Select a topic</p>
                </div>
            </div>
            <!-- Navigation Area -->
            <nav id="chapter-nav" class="space-y-1 mt-8 -mx-2 flex-grow">
                <p class="text-slate-400 text-sm p-4 text-center">Loading chapters...</p>
            </nav>
            <!-- Sidebar Footer/Info -->
            <div class="mt-auto pt-6 text-center text-xs text-slate-400">
                V2 Interface
            </div>
        </aside>

        <!-- Mobile Sidebar Overlay -->
        <div id="sidebar-overlay" class="fixed inset-0 bg-black bg-opacity-50 z-20 hidden md:hidden" aria-hidden="true">
        </div>

        <!-- Main Content -->
        <main id="main-content" class="flex-1 p-6 md:p-10 overflow-y-auto">
            <!-- Dynamic Header -->
            <section id="main-header" class="mb-8">
                <h2 id="current-chapter-title" class="text-2xl md:text-3xl font-bold text-indigo-700 mb-2">Select a
                    Chapter</h2>
                <p id="current-chapter-description" class="text-sm text-slate-500">Questions for the selected chapter
                    will appear below.</p>
            </section>

            <!-- Dynamic Content Area -->
            <section id="question-display" class="min-h-[calc(100vh-250px)]">
                <div id="questions-list" class="space-y-6">
                    <!-- Initial Placeholder -->
                    <div id="initial-placeholder"
                        class="flex flex-col justify-center items-center h-[400px] text-center p-6 bg-white rounded-lg border border-dashed border-slate-300 shadow-sm">
                        <!-- Heroicon name: outline/book-open -->
                        <svg class="w-16 h-16 text-slate-300 mb-5" xmlns="http://www.w3.org/2000/svg" fill="none"
                            viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor">
                            <path stroke-linecap="round" stroke-linejoin="round"
                                d="M12 6.042A8.967 8.967 0 0 0 6 3.75c-1.052 0-2.062.18-3 .512v14.25A8.987 8.987 0 0 1 6 18c2.305 0 4.408.867 6 2.292m0-14.25a8.966 8.966 0 0 1 6-2.292c1.052 0 2.062.18 3 .512v14.25A8.987 8.987 0 0 0 18 18a8.967 8.967 0 0 0-6 2.292m0-14.25v14.25" />
                        </svg>
                        <p class="text-slate-600 text-lg font-medium">Welcome!</p>
                        <p class="text-slate-400 text-sm mt-1 max-w-xs">Select a module from the sidebar to view the
                            previous year questions.</p>
                    </div>
                </div>
            </section>

            <!-- Footer -->
            <footer id="verification" class="mt-12 pt-6 text-center text-xs text-slate-400 border-t border-slate-200">
                Loading verification...
            </footer>
        </main>
    </div>

    <script>
        // --- IMPORTANT ---
        const yearlyData = [
            // Object for Year 2019
            {
                "year": 2019,
                "questions": [
                    // Question Object 1a
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Relates to object context ('this' pointer implicitly)
                        "q": "Q1a: Which feature allows open recursion among the following?\n(i) Use of this pointer\n(ii) Use of pointers\n(iii) Use of pass by value\n(iv) Use of parameterized constructor"
                    },
                    // Question Object 1b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Core concept of Polymorphism
                        "q": "Q1b: If same message is passed to objects of several different classes and all of those can respond in a different way, what is this feature called?\n(i) Inheritance (ii) Overloading\n(iii) Polymorphism (iv) Overriding"
                    },
                    // Question Object 1c
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Abstract Class concept
                        "q": "Q1c: Which among the following is wrong?\n(i) class student{}; student s;\n(ii) abstract class student{}; student s;\n(iii) abstract class student{} s[50000000];\n(iv) abstract class student{}; class toppers: public student{ }; topper t;"
                    },
                    // Question Object 1d
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Core concept of Abstraction
                        "q": "Q1d: If two classes combine some private data members and provides public member functions to access and manipulate those data members, where is abstraction used?\n(i) Using private access specifier for data members\n(ii) Using class concept with both data members and member functions\n(iii) Using public member functions to access and manipulate the data members\n(iv) Data is not sufficient to decide what is being used"
                    },
                    // Question Object 1e
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Polymorphism using Abstract Class
                        "q": "Q1e: Which class/set of classes can illustrate polymorphism in the following code\n```cpp\nabstract class student\n{\n  public: int marks;\n  virtual calc_grade() = 0; // Made virtual pure for abstract class context\n}\nclass topper: public student\n{\n  public: calc_grade() // Overriding\n  { return 10; }\n};\nclass average: public student\n{\n  public: calc_grade() // Overriding\n  { return 20; }\n};\nclass failed{int marks;};\n```\n(i) Only class student can show polymorphism\n(ii) Only class student and topper together can show polymorphism\n(iii) All class students, topper and average together can show polymorphism\n(iv) Class failed should also inherit class student for this code to work for polymorphism"
                    },
                    // Question Object 1f
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling", // Pointer to member / relates to encapsulation (Module 3) but focus is pointer usage
                        "q": "Q1f: Consider the following code and select the correct option:\n```cpp\nclass student\n{\n  int marks;\n  public: int* fun() // Assuming intended return type based on usage\n  {\n    return & marks;\n  }\n};\nmain()\n{\n  student s;\n  int *ptr = s.fun(); // Corrected c.fun() to s.fun()\n  return 0;\n}\n```\n(i) This code is good to go\n(ii) This code may result in undesirable conditions\n(iii) This code will generate error\n(iv) This code violates encapsulation"
                    },
                    // Question Object 1g
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Constructor usage and object instantiation
                        "q": "Q1g: Which among the following is correct for the class defined below?\n```cpp\nclass student\n{\n  int marks;\n  public: student() {}\n  student(int x)\n  {\n    marks = x;\n  }\n};\nmain()\n{\n  student s1(100);\n  student s2(); // Function declaration (most vexing parse)\n  student s3 = 100; // Implicit conversion via constructor\n  return 0;\n}\n```\n(i) Object s3, syntax error\n(ii) Only object sl and s2 will be created\n(iii) Program runs and all objects are created // s2 is function declaration, s3 uses constructor\n(iv) Program will give compile-time error // Likely compiles, s2 doesn't create object"
                    },
                    // Question Object 1h
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Constructor rules (even though related to overloading - Module 2/4)
                        "q": "Q1h: Does constructor overloading include different return types for constructors to be overloaded?\n(i) Yes, if return types are different, signature becomes different\n(ii) Yes, because return types can differentiate two functions\n(iii) No, return type can't differentiate two functions\n(iv) No, constructors doesn't have any return type"
                    },
                    // Question Object 1i
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Constructor calling mechanism
                        "q": "Q1i: Which constructor will be called from the object created in the code below?\n```cpp\n#include <iostream>\nusing namespace std;\nclass A\n{\n  int i;\npublic: // Added access specifier\n  A()\n  {\n    i=0; cout<< i;\n  }\n  A(int x = 0)\n  {\n    i = x; cout<< i;\n  }\n};\nA obj1;\n```\n(i) Default constructor\n(ii) Parameterized constructor\n(iii) Compile-time error // Ambiguity between A() and A(int x=0)\n(iv) Run-time error"
                    },
                    // Question Object 1j
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Destructor lifecycle
                        "q": "Q1j: When an object is passed to a function, its copy is made in the function and then\n(i) the destructor of the copy is called when function is returned\n(ii) the destructor is never called in this case\n(iii) the destructor is called but it is always implicit\n(iv) the destructor must be user defined"
                    },
                    // Question Object 2a
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q2a: What is Object-oriented Programming (OOP)? Write the basic concepts of OOP."
                    },
                    // Question Object 2b
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q2b: What do you mean by class and object?"
                    },
                    // Question Object 3a
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q3a: With an example, explain the terms 'constructor' and 'destructor'."
                    },
                    // Question Object 3b
                    {
                        "chapter": "Module 2: Control Structures and Functions", // As Virtual Functions listed here
                        "q": "Q3b: With an example, explain what virtual function is."
                    },
                    // Question Object 4a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Polymorphism concept
                        "q": "Q4a: What do you mean by polymorphism?"
                    },
                    // Question Object 4b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Runtime vs Compile time Polymorphism
                        "q": "Q4b: With an example, differentiate between run-time and compile-time polymorphism."
                    },
                    // Question Object 5a
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Friend function relates to class access control
                        "q": "Q5a: What is friend function?"
                    },
                    // Question Object 5b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Pure virtual functions relate to Abstract Classes
                        "q": "Q5b: What is pure virtual function?"
                    },
                    // Question Object 6a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Abstract Class
                        "q": "Q6a: What is abstract class? Write a program to illustrate. Also outline the advantages of abstract class."
                    },
                    // Question Object 6b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Abstract Class comparison
                        "q": "Q6b: Differentiate between abstract class and interface." // Interface concept often compared with Abstract Class
                    },
                    // Question Object 7
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Inheritance types
                        "q": "Q7: What are various types of inheritance, shown in the following figure? [Figures showing Single (i), Multiple (ii), Hierarchical (iii) inheritance]"
                    },
                    // Question Object 8a
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling", // Exception Handling basics
                        "q": "Q8a: What is an exception? What do you mean by exception handling?"
                    },
                    // Question Object 8b
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling", // Exception Handling keywords
                        "q": "Q8b: Explain the keywords: try, catch and throw."
                    },
                    // Question Object 9a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Overloading vs Overriding comparison
                        "q": "Q9a: With the help of an example program, differentiate between the following: Overloading vs. Overriding"
                    },
                    // Question Object 9b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Binding types (relates to polymorphism)
                        "q": "Q9b: With the help of an example program, differentiate between the following: Early binding vs. Late binding"
                    }
                ]
            },
            // Object for Year 2020
            {
                "year": 2020,
                "questions": [
                    // Question Object 1a
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q1a: How void pointers differ from general pointers?"
                    },
                    // Question Object 1b
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q1b: Is it possible to access data without any member function in the class? Justify your reason."
                    },
                    // Question Object 1c
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q1c: How precedence of operators effects evaluation of an expression?"
                    },
                    // Question Object 1d
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q1d: Write the advantage of object-oriented programming over procedural programming."
                    },
                    // Question Object 1e
                    {
                        "chapter": "Module 2: Control Structures and Functions",
                        "q": "Q1e: Why we generally avoid goto in the programming?"
                    },
                    // Question Object 1f
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q1f: What is the role of try block in the exception handling?"
                    },
                    // Question Object 1g
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q1g: Write the difference between class and structure."
                    },
                    // Question Object 1h
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q1h: What is the use of scope resolution operator?"
                    },
                    // Question Object 1i
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q1i: Why we require derive data types in the programming when we already have different data types?"
                    },
                    // Question Object 1j
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q1j: Write a small code which illustrates the concept of multilevel inheritance."
                    },
                    // Question Object 2a
                    {
                        "chapter": "Module 1: Introduction to C++", // Involves basic I/O and data types
                        "q": "Q2a: On a certain day the British pound was equivalent to $1-487 US, the French franc was $0-172, the German deutschemark was $0-584, and the Japanese yen was $0-00955. Write a program in C++ that allows the user to enter an amount in dollars, and then displays this value converted to these four other monetary units."
                    },
                    // Question Object 2b
                    {
                        "chapter": "Module 2: Control Structures and Functions", // Command line arguments relate to function parameters
                        "q": "Q2b: What are command line arguments? Write a program in C++ to finding factorial for a given number using command line argument."
                    },
                    // Question Object 3a
                    {
                        "chapter": "Module 2: Control Structures and Functions", // Passing arguments by reference
                        "q": "Q3a: What is a principal reason for passing arguments by reference? Write a function called zeroSmaller() that is passed two int arguments by reference and then sets the smaller of the two numbers to 0. Write a main() program to exercise this function."
                    },
                    // Question Object 3b
                    {
                        "chapter": "Module 1: Introduction to C++", // String manipulation
                        "q": "Q3b: Write a C++ program to which replace all the words \"dog\" with \"cat\"."
                    },
                    // Question Object 4a
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling", // Dynamic memory allocation (new/delete vs malloc/free)
                        "q": "Q4a: Compare and contrast dynamic memory allocation using the C++ operators new and delete, with dynamic memory allocation using the C standard library functions malloc and free."
                    },
                    // Question Object 4b
                    {
                        "chapter": "Module 2: Control Structures and Functions", // Loops and basic math operations
                        "q": "Q4b: Write programs to evaluate the following function to 0.0001% accuracy:\nSUM = 1 + (1/2)^2 + (1/3)^3 + (1/4)^4 + ..." // Corrected formula interpretation
                    },
                    // Question Object 5a
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q5a: Create a classRectangle. The class has attributes length and width, each of which defaults to 1. It has member functions that calculate the perimeter and the area of the rectangle. It has set and get functions for both length and width. The set functions should verify that length and width are each floating-point numbers larger than 0-0 and less than 20-0."
                    },
                    // Question Object 5b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Constructor initialization in derived classes
                        "q": "Q5b: Assume that there is a class Derv that is derived from a base class Base. Write the decelerator [likely meant initializer list] for a derived-class constructor that takes one argument and passes this argument along to the constructor in the base class."
                    },
                    // Question Object 6a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q6a: What is operator overloading? Write a program in C++ to overload unary minus operator."
                    },
                    // Question Object 6b
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Friend function interaction with operator overloading (Module 4)
                        "q": "Q6b: A friend function cannot be used to overload the assignment operator =. Explain why."
                    },
                    // Question Object 7a
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling", // Pointer casting safety with inheritance (Module 4)
                        "q": "Q7a: Discuss why converting a base-class pointer to a derived-class pointer is considered dangerous by the compiler."
                    },
                    // Question Object 7b
                    {
                        "chapter": "Module 2: Control Structures and Functions", // Virtual functions concept and necessity
                        "q": "Q7b: What is a virtual function? Why we need virtual functions?"
                    },
                    // Question Object 8a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q8a: What are the different forms of inheritance? Give an example for each."
                    },
                    // Question Object 8b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Function Templates
                        "q": "Q8b: Write a program that uses a function template called min to determine the smaller of two arguments. Test the program using integer, character and floating-point number pairs."
                    },
                    // Question Object 9a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Function Templates and Overloading interaction
                        "q": "Q9a: What is the relationship between function templates and overloading? Explain with the help of an example."
                    },
                    // Question Object 9b
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q9b: What are the advantages of using exception handling mechanism in a program? Explain with an example."
                    }
                ]
            },
            // Object for Year 2020
            {
                "year": "2020-s",
                "questions": [
                    // Question Object 1a
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q1a: How void pointers differ from general pointers?"
                    },
                    // Question Object 1b
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q1b: Is it possible to access data without any member function in the class? Justify your reason."
                    },
                    // Question Object 1c
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q1c: How precedence of operators effects evaluation of an expression?"
                    },
                    // Question Object 1d
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q1d: Write the advantage of object-oriented programming over procedural programming."
                    },
                    // Question Object 1e
                    {
                        "chapter": "Module 2: Control Structures and Functions",
                        "q": "Q1e: Why we generally avoid goto in the programming?"
                    },
                    // Question Object 1f
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q1f: What is the role of try block in the exception handling?"
                    },
                    // Question Object 1g
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q1g: Write the difference between class and structure."
                    },
                    // Question Object 1h
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q1h: What is the use of scope resolution operator?"
                    },
                    // Question Object 1i
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q1i: Why we require derive data types in the programming when we already have different data types?"
                    },
                    // Question Object 1j
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q1j: Write a small code which illustrates the concept of multilevel inheritance."
                    },
                    // Question Object 2a
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q2a: On a certain day the British pound was equivalent to $1-487 US, the French franc was $0-172, the German deutschemark was $0-584, and the Japanese yen was $0-00955. Write a program in C++ that allows the user to enter an amount in dollars, and then displays this value converted to these four other monetary units."
                    },
                    // Question Object 2b
                    {
                        "chapter": "Module 2: Control Structures and Functions",
                        "q": "Q2b: What are command line arguments? Write a program in C++ to finding factorial for a given number using command line argument."
                    },
                    // Question Object 3a
                    {
                        "chapter": "Module 2: Control Structures and Functions",
                        "q": "Q3a: What is a principal reason for passing arguments by reference? Write a function called zeroSmaller() that is passed two int arguments by reference and then sets the smaller of the two numbers to 0. Write a main() program to exercise this function."
                    },
                    // Question Object 3b
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q3b: Write a C++ program to which replace all the words \"dog\" with \"cat\"."
                    },
                    // Question Object 4a
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q4a: Compare and contrast dynamic memory allocation using the C++ operators new and delete, with dynamic memory allocation using the C standard library functions malloc and free."
                    },
                    // Question Object 4b
                    {
                        "chapter": "Module 2: Control Structures and Functions",
                        "q": "Q4b: Write programs to evaluate the following function to 0.0001% accuracy:\n```\nSUM = 1 + (1/2)^2 + (1/3)^3 + (1/4)^4 + ...\n```" // Formula included in markdown code block
                    },
                    // Question Object 5a
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q5a: Create a classRectangle. The class has attributes length and width, each of which defaults to 1. It has member functions that calculate the perimeter and the area of the rectangle. It has set and get functions for both length and width. The set functions should verify that length and width are each floating-point numbers larger than 0-0 and less than 20-0."
                    },
                    // Question Object 5b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q5b: Assume that there is a class Derv that is derived from a base class Base. Write the decelerator [initializer list] for a derived-class constructor that takes one argument and passes this argument along to the constructor in the base class." // Clarified "decelerator"
                    },
                    // Question Object 6a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q6a: What is operator overloading? Write a program in C++ to overload unary minus operator."
                    },
                    // Question Object 6b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Focus on overloading rules
                        "q": "Q6b: A friend function cannot be used to overload the assignment operator =. Explain why."
                    },
                    // Question Object 7a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Focus on inheritance type safety
                        "q": "Q7a: Discuss why converting a base-class pointer to a derived-class pointer is considered dangerous by the compiler."
                    },
                    // Question Object 7b
                    {
                        "chapter": "Module 2: Control Structures and Functions", // As per syllabus location
                        "q": "Q7b: What is a virtual function? Why we need virtual functions?"
                    },
                    // Question Object 8a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q8a: What are the different forms of inheritance? Give an example for each."
                    },
                    // Question Object 8b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q8b: Write a program that uses a function template called min to determine the smaller of two arguments. Test the program using integer, character and floating-point number pairs."
                    },
                    // Question Object 9a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q9a: What is the relationship between function templates and overloading? Explain with the help of an example."
                    },
                    // Question Object 9b
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q9b: What are the advantages of using exception handling mechanism in a program? Explain with an example."
                    }
                ]
            }
            ,
            // Object for Year 2021
            {
                "year": 2021,
                "questions": [
                    // Question Object 1a
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q1a: How will you take input in C++?"
                    },
                    // Question Object 1b
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q1b: How will you define a constructor in a C++ class?"
                    },
                    // Question Object 1c
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q1c: What are accessor and mutator functions?"
                    },
                    // Question Object 1d
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q1d: What is void pointer in C++? Elaborate with an example."
                    },
                    // Question Object 1e
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q1e: What is derived data type in C++?"
                    },
                    // Question Object 1f
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Relates to polymorphism implementation
                        "q": "Q1f: How will you implement runtime polymorphism in C++?"
                    },
                    // Question Object 1g
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q1g: When are virtual base classes necessary in C++?"
                    },
                    // Question Object 1h
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q1h: What are the differences between function overloading and function overriding?"
                    },
                    // Question Object 1i
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q1i: How will you throw an exception in C++? Elaborate with an example."
                    },
                    // Question Object 1j
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q1j: Name two standard exceptions built in C++. When are they thrown?"
                    },
                    // Question Object 2a
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q2a: What are the advantages of object-oriented programming paradigm over procedural programming? Demonstrate the features of an object-oriented programming paradigm with their suitable implementations in C++."
                    },
                    // Question Object (Page 2, top-left b - assuming 2b)
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q2b: How will you define constants in C++? How will you access them? Elaborate with suitable examples." // Question number inferred
                    },
                    // Question Object (Page 2, top-left c - assuming 2c)
                    {
                        "chapter": "Module 1: Introduction to C++",
                        "q": "Q2c: What is type modifier? Elaborate different types of modifiers in C++ with proper examples." // Question number inferred
                    },
                    // Question Object (Page 2, top-left d - assuming 2d)
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Relates to constructors, virtual concept (Module 2)
                        "q": "Q2d: Is it possible to have virtual constructor in C++? If yes, how will you implement it, and if no, why?" // Question number inferred
                    },
                    // Question Object 3a
                    {
                        "chapter": "Module 2: Control Structures and Functions",
                        "q": "Q3a: What do you mean by call by reference? What are the differences between call by value and call by reference? Show call by reference by implementing a function to swap the values of two numbers."
                    },
                    // Question Object 3b
                    {
                        "chapter": "Module 2: Control Structures and Functions",
                        "q": "Q3b: What do you mean by default arguments? Can you use functions with default arguments as an alternative to function overloading? Elaborate with suitable examples,"
                    },
                    // Question Object 3c
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q3c: What is a copy constructor? When will you need a copy constructor? How will you implement a copy constructor? Elaborate with suitable examples."
                    },
                    // Question Object 4a
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // 'this' pointer context
                        "q": "Q4a: What is 'this' pointer? How will you use 'this' pointer in C++? Elaborate with example."
                    },
                    // Question Object 4b
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q4b: What are various access specifiers used in C++? Demonstrate each of them with suitable examples."
                    },
                    // Question Object 4c
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q4c: How will you allocate dynamic memory in C++ other than malloc or calloc? How will you free the memory created using the method demonstrated? Demonstrate with suitable examples. What are the differences between malloc and the method you demonstrated?"
                    },
                    // Question Object 5a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q5a: How do you overload operators in C++? Demonstrate with a suitable example, in which one unary operator and one binary operator will be overloaded."
                    },
                    // Question Object 5b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q5b: How will you overload the input operator >> and the output operator <<? Demonstrate with suitable examples."
                    },
                    // Question Object 5c
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q5c: Demonstrate friend function and friend class with suitable examples."
                    },
                    // Question Object 5d
                    {
                        "chapter": "Module 1: Introduction to C++", // General C++ feature
                        "q": "Q5d: What is namespace? How will you define a namespace in C++?"
                    },
                    // Question Object 6a
                    {
                        "chapter": "Module 2: Control Structures and Functions", // Virtual functions primary topic
                        "q": "Q6a: What is virtual function? Why are they necessary? Demonstrate compile-time binding and late-time binding using suitable examples."
                    },
                    // Question Object 6b
                    {
                        "chapter": "Module 2: Control Structures and Functions", // Inline functions
                        "q": "Q6b: What is inline function? How do you declare and invoke an inline function in C++?"
                    },
                    // Question Object 6c
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Pure virtual function & Abstract class
                        "q": "Q6c: What is pure virtual function? Elaborate pure virtual function and abstract class with suitable examples."
                    },
                    // Question Object (Page 3, top-right d - assuming 6d)
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q{Assume 6d}: What is diamond problem faced in multiple inheritance? How to deal with this problem in C++? Demonstrate with an example." // Question number inferred
                    },
                    // Question Object 7a
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q7a: How will you declare a dynamic array in C++? Demonstrate. What is 'nothrow' keyword used for?"
                    },
                    // Question Object 7b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Overloading new/delete
                        "q": "Q7b: Can you overload new and delete operators? If yes, demonstrate with a suitable example. If not, why?"
                    },
                    // Question Object 7c
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q7c: What is a reference? What are the differences between a pointer and a reference? Demonstrate with a suitable example of object pointer and object reference."
                    },
                    // Question Object 8a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q8a: What is template? In which scenario, using templates are advantageous? Demonstrate with suitable examples."
                    },
                    // Question Object 8b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q8b: How will you declare a function template? Demonstrate with suitable examples."
                    },
                    // Question Object 8c
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q8c: How will you declare a class template? Demonstrate with suitable examples."
                    },
                    // Question Object (Page 3, mid-right d - assuming 8d)
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q{Assume 8d}: How can you handle any type of exception in catch block in C++? Demonstrate with an example." // Question number inferred
                    },
                    // Question Object 9a
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q9a: How will you create your own exception class in C++? Demonstrate. What is the functionality of what() function in creating own exception class?"
                    },
                    // Question Object 9b
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q9b: How does stack unwinding work in C++? Demonstrate with a suitable example."
                    },
                    // Question Object (Page 4, top c - assuming 9c)
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q{Assume 9c}: Demonstrate nested try blocks in C++ with suitable example. Can an exception thrown by internal try block be caught by external catch clause? Can an exception thrown by external try block be caught by internal catch clause? In both cases, demonstrate with suitable examples." // Question number inferred
                    }
                ]
            }
            ,  // Object for Year 2022
            {
                "year": 2022,
                "questions": [
                    // Question Object 1a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q1a: Which among the following best describes the inheritance?\n(i) copying the code already written\n(ii) using the code already written once.\n(iii) using already defined functions in programming language\n(iv) using the data and functions into derived segment."
                    },
                    // Question Object 1b
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Core class concepts, although 'Start class' isn't standard C++
                        "q": "Q1b: Which of the following is not a type of class?\n(i) Abstract class\n(ii) Final class\n(iii) Start class\n(iv) String class"
                    },
                    // Question Object 1c
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q1c: What is the default access specifier for data members or member functions declared within a class without any specifier in C++?\n(i) Private\n(ii) Protected\n(iii) Public\n(iv) Depends on compiler"
                    },
                    // Question Object 1d
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Static/Constant are members, Friend/Virtual are related concepts
                        "q": "Q1d: Which of the following is not the member of class ?\n(i) Static function\n(ii) Friend function\n(iii) Constant function\n(iv) Virtual function"
                    },
                    // Question Object 1e
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q1e: Which constructor will be called from the object created in the code below?\n```cpp\nClass A\n{\n  int i;\n  A()\n  {\n    i= 0;\n  }\n  A (int x = 0)\n  {\n    i=x;\n  }\n};\nA obj1;\n```\n(i) Default constructor\n(ii) Parameterized constructor\n(iii) Compile time error\n(iv) Run-time error" // Note: This code actually has ambiguity leading to compile error. But the question asks which *would* be called based on intent. Assuming `A obj1;` intends the default.
                    },
                    // Question Object 1f
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Related to overriding control
                        "q": "Q1f: To prevent any method from overriding, we declare the method as\n(i) Static\n(ii) const\n(iii) final\n(iv) None of the above" // Note: 'final' is the keyword in C++11 onwards, applied after signature. 'const' relates to member function behavior, not overriding prevention. Static methods aren't overridden in the same way.
                    },
                    // Question Object 1g
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q1g: In C++ dynamic memory allocation is accomplished with the operator:\n(i) new\n(ii) this\n(iii) malloc\n(iv) delete"
                    },
                    // Question Object 1h
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q1h: When a class serves as base class for many derived classes, the situation is called\n(i) polymorphism\n(ii) hierarchical inheritance\n(iii) hybrid inheritance\n(iv) multipath inheritance"
                    },
                    // Question Object 1i
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Relates to access control for interface methods
                        "q": "Q1i: For a method to be an interface between the outside world and a class, it must be declared\n(i) private\n(ii) protected\n(iii) public\n(iv) external"
                    },
                    // Question Object 1j
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling", // Pointer type compatibility with inheritance
                        "q": "Q1j: Which of the following statement is correct?\n(i) Base class pointer cannot point to derived class\n(ii) Derived class pointer cannot point to base class.\n(iii) Pointer to derived class cannot be created\n(iv) Pointer to base class cannot be created."
                    },
                    // Question Object 2a
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q2a: What are the advantages of using exception handling mechanism in a program? Explain the uses of try, throw and catch keywords using example."
                    },
                    // Question Object 2b
                    {
                        "chapter": "Module 2: Control Structures and Functions", // Basic programming logic, loops
                        "q": "Q2b: Write a C++ program to find the sum of the series 1+3+5+...+n."
                    },
                    // Question Object 3a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q3a: What is inheritance? Discuss different types of inheritance with examples."
                    },
                    // Question Object 3b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q3b: What is operator overloading? Write a program in C++ to overload unary minus operator."
                    },
                    // Question Object 4a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Pure virtual function
                        "q": "Q4a: What is pure virtual function? Write a C++ program that prints 'BEU Patna' from inside a member function of a subclass overriding a pure virtual function."
                    },
                    // Question Object 4b
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling", // Pointer type casting safety with inheritance
                        "q": "Q4b: Discuss why converting a base-class pointer to a derived-class pointer is considered dangerous by compiler."
                    },
                    // Question Object 5a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q5a: Differentiate between abstract class and interface with suitable examples."
                    },
                    // Question Object 5b
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q5b: What is access modifier in C++? Differentiate between each type."
                    },
                    // Question Object 6a
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q6a: Differentiate between a class and an object. Write an example (syntax) to define a class in C++."
                    },
                    // Question Object 6b
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q6b: With an example, explain the terms constructor and destructor."
                    },
                    // Question Object 7a
                    {
                        "chapter": "Module 3: Classes and Data Abstraction",
                        "q": "Q7a: What is a friend function and what are its advantages? What are the guidelines that should be followed while using friend function?"
                    },
                    // Question Object 7b
                    {
                        "chapter": "Module 5: Pointers, Arrays and Exception Handling",
                        "q": "Q7b: Explain dangling pointer with the help of an example."
                    },
                    // Question Object 8a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance", // Name hiding/overriding in inheritance
                        "q": "Q8a: Explain how base class member functions can be involved in a derived class if the derived class also has a member function with the same name."
                    },
                    // Question Object 8b
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Class implementation covering constructors, friends
                        "q": "Q8b: Crate a class complex and implement the following:\n(i) Define suitable constructors and destructors\n(ii) Overload the operators + and -\n(iii) Write a friend function sum which adds the real and imaginary parts of a complex object."
                    },
                    // Question Object 9a
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q9a: Write short notes on any two of the following:\nPolymorphism"
                    },
                    // Question Object 9b
                    {
                        "chapter": "Module 4: Overloading, Templates and Inheritance",
                        "q": "Q9b: Write short notes on any two of the following:\nFunction Templates"
                    },
                    // Question Object 9c
                    {
                        "chapter": "Module 3: Classes and Data Abstraction", // Container classes are a fundamental OOP concept
                        "q": "Q9c: Write short notes on any two of the following:\nContainer class"
                    },
                    // Question Object 9d
                    {
                        "chapter": "Module 2: Control Structures and Functions", // Inline function feature
                        "q": "Q9d: Write short notes on any two of the following:\nInline function"
                    }
                ]
            }
        ];
       
        // --- JavaScript Logic ---
        document.addEventListener('DOMContentLoaded', () => {
            const chapterNav = document.getElementById('chapter-nav');
            const questionsList = document.getElementById('questions-list');
            const currentChapterTitle = document.getElementById('current-chapter-title');
            const currentChapterDesc = document.getElementById('current-chapter-description');
            const verificationFooter = document.getElementById('verification');
            const initialPlaceholder = document.getElementById('initial-placeholder');
            const sidebar = document.getElementById('sidebar');
            const mainContent = document.getElementById('main-content');
            const mobileMenuButton = document.getElementById('mobile-menu-button');
            const sidebarOverlay = document.getElementById('sidebar-overlay');

            let activeChapterLink = null;
            let totalQuestionsCount = 0;
            const chapterQuestionCount = {}; // To store count per chapter

            // --- 1. Extract Unique Chapters, Count Total Questions, and Count per Chapter ---
            const uniqueChapters = new Set();
            yearlyData.forEach(yearData => {
                yearData.questions.forEach(q => {
                    const chapterClean = q.chapter.trim();
                    if (chapterClean) {
                        uniqueChapters.add(chapterClean);
                        totalQuestionsCount++;
                        // Initialize or increment chapter count
                        chapterQuestionCount[chapterClean] = (chapterQuestionCount[chapterClean] || 0) + 1;
                    }
                });
            });

            const sortedChapters = Array.from(uniqueChapters).sort((a, b) => {
                const matchA = a.match(/^Module\s*(\d+)/i);
                const matchB = b.match(/^Module\s*(\d+)/i);
                const numA = matchA ? parseInt(matchA[1], 10) : Infinity;
                const numB = matchB ? parseInt(matchB[1], 10) : Infinity;
                if (numA !== numB) return numA - numB;
                return a.localeCompare(b); // Fallback sort by name if module numbers are same/missing
            });

            chapterNav.innerHTML = ''; // Clear loading message

            // --- 2. Populate Chapter Navigation ---
            if (sortedChapters.length === 0) {
                chapterNav.innerHTML = '<p class="text-slate-500 text-sm p-4 text-center">No chapters found.</p>';
            } else {
                sortedChapters.forEach(chapterName => {
                    const count = chapterQuestionCount[chapterName] || 0;
                    const link = document.createElement('a');
                    link.href = '#';
                    // Extract only the part after "Module X: " for display
                    const displayChapterName = chapterName.replace(/^Module\s*\d+:\s*/i, '');
                    link.title = chapterName; // Keep full name in title attribute
                    link.dataset.chapter = chapterName;
                    // Updated classes for V2 style with question count
                    link.className = 'flex justify-between items-center py-2.5 px-4 rounded-md text-slate-600 hover:bg-indigo-50 hover:text-indigo-600 transition duration-150 ease-in-out text-sm font-medium border-l-4 border-transparent';
                    link.innerHTML = `
                        <span>${displayChapterName}</span>
                        <span class="text-xs font-medium bg-slate-100 text-slate-500 rounded-full px-2 py-0.5">${count}</span>
                    `; // Display count

                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        displayQuestions(chapterName);
                        setActiveChapter(link);
                        // Close sidebar on mobile after selection
                        if (window.innerWidth < 768) { // md breakpoint
                            closeSidebar();
                        }
                        // Scroll main content to top
                        mainContent.scrollTop = 0;
                    });
                    chapterNav.appendChild(link);
                });
            }

            // --- Helper function to set active chapter ---
            function setActiveChapter(linkElement) {
                if (activeChapterLink) {
                    activeChapterLink.classList.remove('active-chapter');
                    // Reset count style for previously active link
                    const prevCountSpan = activeChapterLink.querySelector('span:last-child');
                    if (prevCountSpan) {
                        prevCountSpan.classList.remove('bg-indigo-100', 'text-indigo-700');
                        prevCountSpan.classList.add('bg-slate-100', 'text-slate-500');
                    }
                }
                linkElement.classList.add('active-chapter');
                // Update count style for the newly active link
                const countSpan = linkElement.querySelector('span:last-child');
                if (countSpan) {
                    countSpan.classList.remove('bg-slate-100', 'text-slate-500');
                    countSpan.classList.add('bg-indigo-100', 'text-indigo-700');
                }

                activeChapterLink = linkElement;
            }

            // --- Helper functions for Mobile Sidebar ---
            function openSidebar() {
                sidebar.classList.remove('-translate-x-full');
                sidebarOverlay.classList.remove('hidden');
                mobileMenuButton.setAttribute('aria-expanded', 'true');
            }

            function closeSidebar() {
                sidebar.classList.add('-translate-x-full');
                sidebarOverlay.classList.add('hidden');
                mobileMenuButton.setAttribute('aria-expanded', 'false');
            }

            // --- Mobile Sidebar Event Listeners ---
            mobileMenuButton.addEventListener('click', () => {
                // Use computed style to check visibility in case of resize issues
                const style = window.getComputedStyle(sidebar);
                if (style.transform === 'matrix(1, 0, 0, 1, -288, 0)' || sidebar.classList.contains('-translate-x-full')) { // Check for -translate-x-full or equivalent matrix
                    openSidebar();
                } else {
                    closeSidebar();
                }
            });
            sidebarOverlay.addEventListener('click', closeSidebar);


            // --- 3. Function to Display Questions for a Selected Chapter ---
            function displayQuestions(selectedChapter) {
                // Update header title and description
                const displayChapterName = selectedChapter.replace(/^Module\s*\d+:\s*/i, ''); // Clean name
                currentChapterTitle.textContent = displayChapterName;
                const count = chapterQuestionCount[selectedChapter] || 0;
                currentChapterDesc.textContent = `Showing ${count} question${count !== 1 ? 's' : ''} found for this module.`;

                questionsList.innerHTML = ''; // Clear previous content or placeholder
                initialPlaceholder?.remove(); // Remove initial placeholder if it exists

                let questionsFound = [];
                yearlyData.forEach(yearData => {
                    yearData.questions.forEach(q => {
                        if (q.chapter.trim() === selectedChapter) {
                            questionsFound.push({ ...q, year: yearData.year });
                        }
                    });
                });

                // Sort questions by year (newest first) within the chapter
                questionsFound.sort((a, b) => b.year - a.year);

                if (questionsFound.length === 0) {
                    questionsList.innerHTML = `<div class="bg-white p-6 rounded-lg shadow-sm border border-slate-200 text-center text-slate-500">
                        <p class="font-medium">No questions found for this chapter.</p>
                        <p class="text-sm mt-1">Please select another chapter from the sidebar.</p>
                        </div>`;
                    return;
                }

                questionsFound.forEach((q, index) => {
                    const questionElement = document.createElement('article');
                    // Updated classes for V2 question card style
                    questionElement.className = 'bg-white p-5 rounded-lg shadow-md border border-slate-200/80 space-y-4 transition-shadow hover:shadow-lg'; // Added hover effect

                    // --- Header (Year, Count) ---
                    const headerDiv = document.createElement('div');
                    headerDiv.className = 'flex justify-between items-center text-xs border-b border-slate-100 pb-3 mb-3'; // Added border bottom
                    headerDiv.innerHTML = `
                        <span class="font-semibold py-1 px-3 rounded-full bg-indigo-100 text-indigo-800">${q.year}</span>
                        <span class="text-slate-400 font-medium">Question ${index + 1} of ${questionsFound.length}</span>
                    `;
                    questionElement.appendChild(headerDiv);

                    // --- Content Parsing (Text and Code Blocks) ---
                    const contentContainer = document.createElement('div');
                    contentContainer.className = 'space-y-3'; // Add space between text/code blocks
                    questionElement.appendChild(contentContainer);

                    const codeBlockRegex = /```(cpp|c\+\+)?\s*\n([\s\S]*?)\n```/g;
                    let lastIndex = 0;
                    let match;

                    const appendTextSegment = (text) => {
                        const trimmedText = text.trim();
                        if (trimmedText === '') return;

                        const p = document.createElement('p');
                        // Use pre-line for line breaks from \n, adjust text style
                        p.className = 'text-slate-700 text-base leading-relaxed whitespace-pre-line';

                        // Apply Q number styling using a span
                        p.innerHTML = trimmedText.replace(/^((?:Q\d+[a-z]?):)/i, '<span class="q-number">$1</span>');

                        contentContainer.appendChild(p);
                    };

                    while ((match = codeBlockRegex.exec(q.q)) !== null) {
                        appendTextSegment(q.q.substring(lastIndex, match.index));

                        const pre = document.createElement('pre');
                        // Updated classes for V2 code block style
                        pre.className = 'bg-slate-800 text-slate-200 p-4 rounded-md overflow-x-auto text-sm font-mono shadow-inner my-3 language-cpp'; // Assume cpp, added language class
                        const code = document.createElement('code');
                        code.textContent = match[2].trim(); // Trim whitespace from code block content
                        pre.appendChild(code);
                        contentContainer.appendChild(pre);

                        lastIndex = codeBlockRegex.lastIndex;
                    }

                    appendTextSegment(q.q.substring(lastIndex));
                    // --- End Content Parsing ---

                    questionsList.appendChild(questionElement);
                });
            }

            // --- 4. Display Verification Message ---
            if (totalQuestionsCount > 0) {
                verificationFooter.textContent = `Verified: ${totalQuestionsCount} question parts loaded across ${yearlyData.length} year(s) for AKU/BEU C++ OOP.`;
            } else {
                verificationFooter.textContent = `Verification: No question data loaded.`;
            }


            // --- 5. Set Initial State ---
            if (sortedChapters.length === 0) {
                questionsList.innerHTML = ''; // Clear placeholder if it exists
                const noDataPlaceholder = document.createElement('div');
                noDataPlaceholder.className = "flex flex-col justify-center items-center h-[400px] text-center p-6 bg-white rounded-lg border border-dashed border-slate-300 shadow-sm";
                noDataPlaceholder.innerHTML = `
                     <svg class="w-16 h-16 text-red-300 mb-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor"> <path stroke-linecap="round" stroke-linejoin="round" d="M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z" /> </svg>
                     <p class="text-slate-600 text-lg font-medium">No Data Found</p>
                     <p class="text-slate-400 text-sm mt-1 max-w-xs">Could not load any chapters or questions. Please check the data source.</p>
                 `;
                questionsList.appendChild(noDataPlaceholder);
                currentChapterTitle.textContent = 'No Data Available';
                currentChapterDesc.textContent = 'Please check the data source or add question data.';
            }
            // Optional: Pre-select first chapter on desktop load
            // if (window.innerWidth >= 768 && sortedChapters.length > 0) {
            //    const firstChapterLink = chapterNav.querySelector('a');
            //    if (firstChapterLink) {
            //        // Use setTimeout to ensure rendering is complete before clicking
            //        setTimeout(() => firstChapterLink.click(), 0);
            //    }
            // }

        });
    </script>
</body>
</html>
